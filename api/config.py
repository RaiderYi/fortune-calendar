# -*- coding: utf-8 -*-
"""
八字命理核心配置文件
包含五行生克关系、十神映射、地支藏干等核心数据
"""

# ==================== 五行相关配置 ====================

# 五行列表
WU_XING = ["木", "火", "土", "金", "水"]

# 天干五行映射
GAN_WU_XING = {
    "甲": "木", "乙": "木",
    "丙": "火", "丁": "火",
    "戊": "土", "己": "土",
    "庚": "金", "辛": "金",
    "壬": "水", "癸": "水"
}

# 地支五行映射
ZHI_WU_XING = {
    "子": "水", "丑": "土", "寅": "木", "卯": "木",
    "辰": "土", "巳": "火", "午": "火", "未": "土",
    "申": "金", "酉": "金", "戌": "土", "亥": "水"
}

# 五行相生关系
WU_XING_SHENG = {
    "木": "火",
    "火": "土",
    "土": "金",
    "金": "水",
    "水": "木"
}

# 五行相克关系
WU_XING_KE = {
    "木": "土",
    "土": "水",
    "水": "火",
    "火": "金",
    "金": "木"
}

# 五行被生关系（被谁生）
WU_XING_BEI_SHENG = {
    "木": "水",
    "火": "木",
    "土": "火",
    "金": "土",
    "水": "金"
}

# 五行被克关系（被谁克）
WU_XING_BEI_KE = {
    "木": "金",
    "土": "木",
    "水": "土",
    "火": "水",
    "金": "火"
}

# ==================== 十神相关配置 ====================

# 十神列表
SHI_SHEN = ["比肩", "劫财", "食神", "伤官", "偏财", "正财", "七杀", "正官", "偏印", "正印"]

# 十神与日主的关系映射
SHI_SHEN_MAPPING = {
    "比肩": {"type": "同我", "element": "同五行", "desc": "竞争、合作"},
    "劫财": {"type": "同我", "element": "同五行", "desc": "破财、社交"},
    "食神": {"type": "我生", "element": "泄秀", "desc": "才华、享受"},
    "伤官": {"type": "我生", "element": "泄秀", "desc": "创新、叛逆"},
    "偏财": {"type": "我克", "element": "求财", "desc": "横财、投资"},
    "正财": {"type": "我克", "element": "求财", "desc": "正财、稳定"},
    "七杀": {"type": "克我", "element": "压力", "desc": "挑战、威严"},
    "正官": {"type": "克我", "element": "压力", "desc": "事业、权威"},
    "偏印": {"type": "生我", "element": "生扶", "desc": "直觉、独特"},
    "正印": {"type": "生我", "element": "生扶", "desc": "贵人、庇护"}
}

# 十神映射配置（用于前端展示）
TEN_GOD_MAPPING = {
    "比肩": {"keyword": "硬刚", "subKeyword": "自我主场", "emoji": "👊",
             "desc": "竞争激烈,但你能量爆棚。不用看谁脸色,今天你自己就是规矩。"},
    "劫财": {"keyword": "破财", "subKeyword": "买买买", "emoji": "💸",
             "desc": "容易冲动消费或请客吃饭,护好钱包,但利于社交破圈。"},
    "食神": {"keyword": "松弛", "subKeyword": "天赋点满", "emoji": "☕️",
             "desc": "灵感追着你跑。适合摸鱼、探店、发呆,怎么舒服怎么来。"},
    "伤官": {"keyword": "叛逆", "subKeyword": "整顿职场", "emoji": "🎤",
             "desc": "才华压不住,想怼谁就怼谁。利于创作和演讲,但小心口舌。"},
    "偏财": {"keyword": "吸金", "subKeyword": "财运Buff", "emoji": "💰",
             "desc": "搞钱雷达灵敏,买彩票、谈客户容易有惊喜,接住这波富贵。"},
    "正财": {"keyword": "搬砖", "subKeyword": "稳稳当当", "emoji": "🧱",
             "desc": "一分耕耘一分收获,虽然没有横财,但进账踏实,适合存钱。"},
    "七杀": {"keyword": "气场", "subKeyword": "掌控全场", "emoji": "🔥",
             "desc": "压力有点大,但你是绝对C位。遇到困难直接硬刚,必能逆风翻盘。"},
    "正官": {"keyword": "上岸", "subKeyword": "顺风顺水", "emoji": "⚖️",
             "desc": "利于考试、面试、升职。领导看你顺眼,全世界都在给你开绿灯。"},
    "偏印": {"keyword": "脑洞", "subKeyword": "外星接收", "emoji": "👽",
             "desc": "思维很怪但很有用。适合钻研冷门知识,直觉准得可怕。"},
    "正印": {"keyword": "锦鲤", "subKeyword": "躺赢模式", "emoji": "🍀",
             "desc": "有贵人罩着,不用太费力就能成事。适合抱大腿,做长远规划。"},
}

# ==================== 天干地支配置 ====================

# 天干列表
TIAN_GAN = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"]

# 地支列表
DI_ZHI = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"]

# 地支藏干（地支中隐藏的天干）
ZHI_CANG_GAN = {
    "子": ["癸"],
    "丑": ["己", "癸", "辛"],
    "寅": ["甲", "丙", "戊"],
    "卯": ["乙"],
    "辰": ["戊", "乙", "癸"],
    "巳": ["丙", "戊", "庚"],
    "午": ["丁", "己"],
    "未": ["己", "丁", "乙"],
    "申": ["庚", "壬", "戊"],
    "酉": ["辛"],
    "戌": ["戊", "辛", "丁"],
    "亥": ["壬", "甲"]
}

# ==================== 地支关系配置 ====================

# 地支三合局
DI_ZHI_SAN_HE = {
    "申子辰": "水局",
    "亥卯未": "木局",
    "寅午戌": "火局",
    "巳酉丑": "金局"
}

# 地支六合
DI_ZHI_LIU_HE = {
    "子丑": "土",
    "寅亥": "木",
    "卯戌": "火",
    "辰酉": "金",
    "巳申": "水",
    "午未": "土"
}

# 地支三会
DI_ZHI_SAN_HUI = {
    "寅卯辰": "木方",
    "巳午未": "火方",
    "申酉戌": "金方",
    "亥子丑": "水方"
}

# 地支六冲
DI_ZHI_LIU_CHONG = {
    "子午": "冲",
    "丑未": "冲",
    "寅申": "冲",
    "卯酉": "冲",
    "辰戌": "冲",
    "巳亥": "冲"
}

# 地支六害
DI_ZHI_LIU_HAI = {
    "子未": "害",
    "丑午": "害",
    "寅巳": "害",
    "卯辰": "害",
    "申亥": "害",
    "酉戌": "害"
}

# ==================== 月令季节配置 ====================

# 月令季节
YUE_LING_JI_JIE = {
    "寅": "春季", "卯": "春季", "辰": "春季",
    "巳": "夏季", "午": "夏季", "未": "夏季",
    "申": "秋季", "酉": "秋季", "戌": "秋季",
    "亥": "冬季", "子": "冬季", "丑": "冬季"
}

# 月令旺相休囚死
YUE_LING_WANG_XIANG = {
    "春季": {"旺": "木", "相": "火", "休": "水", "囚": "金", "死": "土"},
    "夏季": {"旺": "火", "相": "土", "休": "木", "囚": "水", "死": "金"},
    "秋季": {"旺": "金", "相": "水", "休": "土", "囚": "火", "死": "木"},
    "冬季": {"旺": "水", "相": "木", "休": "金", "囚": "土", "死": "火"},
    "四季月": {"旺": "土", "相": "金", "休": "火", "囚": "木", "死": "水"}
}

# ==================== 神煞配置 ====================

# 天乙贵人（根据日干查贵人）
TIAN_YI_GUI_REN = {
    "甲": ["丑", "未"],
    "乙": ["子", "申"],
    "丙": ["亥", "酉"],
    "丁": ["亥", "酉"],
    "戊": ["丑", "未"],
    "己": ["子", "申"],
    "庚": ["丑", "未"],
    "辛": ["寅", "午"],
    "壬": ["卯", "巳"],
    "癸": ["卯", "巳"]
}

# 桃花星
TAO_HUA = {
    "寅午戌": "卯",
    "申子辰": "酉",
    "巳酉丑": "午",
    "亥卯未": "子"
}

# 文昌星
WEN_CHANG = {
    "甲": "巳",
    "乙": "午",
    "丙": "申",
    "丁": "酉",
    "戊": "申",
    "己": "酉",
    "庚": "亥",
    "辛": "子",
    "壬": "寅",
    "癸": "卯"
}

# 驿马星
YI_MA = {
    "寅午戌": "申",
    "申子辰": "寅",
    "巳酉丑": "亥",
    "亥卯未": "巳"
}

# 羊刃星
YANG_REN = {
    "甲": "卯",
    "乙": "辰",
    "丙": "午",
    "丁": "未",
    "戊": "午",
    "己": "未",
    "庚": "酉",
    "辛": "戌",
    "壬": "子",
    "癸": "丑"
}

# ==================== 评分配置 ====================

# 基础分
BASE_SCORE = 60

# 用神加分
YONG_SHEN_BONUS = 20

# 喜神加分
XI_SHEN_BONUS = 10

# 忌神减分
JI_SHEN_PENALTY = -20

# 神煞加分
SHEN_SHA_BONUS = {
    "天乙贵人": 15,
    "桃花": 10,
    "文昌": 12,
    "驿马": 8
}

# 五行流通加分
WU_XING_LIU_TONG_BONUS = 10

# 冲克减分
CHONG_KE_PENALTY = -15

# ==================== 维度配置 ====================

# 运势维度
FORTUNE_DIMENSIONS = {
    "career": {"name": "事业", "icon": "briefcase", "shen_shen": ["正官", "七杀", "正印"]},
    "wealth": {"name": "财运", "icon": "coins", "shen_shen": ["正财", "偏财"]},
    "romance": {"name": "情感", "icon": "heart", "shen_shen": ["桃花", "正官"]},
    "health": {"name": "健康", "icon": "zap", "shen_shen": ["天医"]},
    "academic": {"name": "学业", "icon": "book", "shen_shen": ["文昌", "正印"]},
    "travel": {"name": "出行", "icon": "map", "shen_shen": ["驿马"]}
}

# ==================== 日程建议配置 ====================

# 宜忌活动映射
YI_JI_ACTIVITIES = {
    "木": {
        "yi": ["植树", "种花", "学习", "写作", "社交", "合作", "运动"],
        "ji": ["伐木", "装修", "争吵", "冲动"]
    },
    "火": {
        "yi": ["演讲", "表演", "营销", "推广", "聚会", "娱乐"],
        "ji": ["争吵", "冲动", "过度劳累"]
    },
    "土": {
        "yi": ["置业", "装修", "种植", "理财", "稳定发展"],
        "ji": ["频繁变动", "冲动消费"]
    },
    "金": {
        "yi": ["投资", "理财", "谈判", "签约", "整理", "规划"],
        "ji": ["冲动消费", "借贷", "冒险"]
    },
    "水": {
        "yi": ["学习", "思考", "旅行", "社交", "休息", "养生"],
        "ji": ["冒险", "冲动", "过度劳累"]
    }
}

# ==================== 旺衰判断权重配置 ====================

# 日主旺衰判断权重
STRENGTH_WEIGHTS = {
    "yue_ling": 0.45,  # 月令权重 45%
    "de_ling": 0.30,   # 得令权重 30%
    "de_di": 0.15,     # 得地权重 15%
    "de_shi": 0.10     # 得势权重 10%
}

# 旺衰阈值
STRENGTH_THRESHOLD = {
    "strong": 0.6,    # 身旺阈值
    "weak": 0.4       # 身弱阈值
}
